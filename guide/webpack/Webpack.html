<!DOCTYPE html>
<html lang="en-US">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>webpack学习 | 丢丢的学习笔记</title>
    <meta name="generator" content="VuePress 1.9.7">
    <link rel="icon" href="/lulu.jpg">
    <meta name="description" content="">
    
    <link rel="preload" href="/assets/css/0.styles.7b36eabc.css" as="style"><link rel="preload" href="/assets/js/app.613d29e8.js" as="script"><link rel="preload" href="/assets/js/2.a2c47b02.js" as="script"><link rel="preload" href="/assets/js/23.8a5f4946.js" as="script"><link rel="prefetch" href="/assets/js/10.6a596c02.js"><link rel="prefetch" href="/assets/js/11.ed5352da.js"><link rel="prefetch" href="/assets/js/12.b60285fa.js"><link rel="prefetch" href="/assets/js/13.db5d362e.js"><link rel="prefetch" href="/assets/js/14.f18b5f02.js"><link rel="prefetch" href="/assets/js/15.147e0035.js"><link rel="prefetch" href="/assets/js/16.41267375.js"><link rel="prefetch" href="/assets/js/17.0bf12475.js"><link rel="prefetch" href="/assets/js/18.c6a51ca3.js"><link rel="prefetch" href="/assets/js/19.9b56784f.js"><link rel="prefetch" href="/assets/js/20.616cdce1.js"><link rel="prefetch" href="/assets/js/21.d5e2f346.js"><link rel="prefetch" href="/assets/js/22.de27a01f.js"><link rel="prefetch" href="/assets/js/24.e82a2433.js"><link rel="prefetch" href="/assets/js/3.06e1627a.js"><link rel="prefetch" href="/assets/js/4.3e22ea5b.js"><link rel="prefetch" href="/assets/js/5.a54b2367.js"><link rel="prefetch" href="/assets/js/6.0128c922.js"><link rel="prefetch" href="/assets/js/7.f5561329.js"><link rel="prefetch" href="/assets/js/8.628d0d40.js"><link rel="prefetch" href="/assets/js/9.603b5c9a.js">
    <link rel="stylesheet" href="/assets/css/0.styles.7b36eabc.css">
  </head>
  <body>
    <div id="app" data-server-rendered="true"><div class="theme-container"><header class="navbar"><div class="sidebar-button"><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" role="img" viewBox="0 0 448 512" class="icon"><path fill="currentColor" d="M436 124H12c-6.627 0-12-5.373-12-12V80c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12z"></path></svg></div> <a href="/" class="home-link router-link-active"><img src="/lulu.jpg" alt="丢丢的学习笔记" class="logo"> <span class="site-name can-hide">丢丢的学习笔记</span></a> <div class="links"><div class="search-box"><input aria-label="Search" autocomplete="off" spellcheck="false" value=""> <!----></div> <nav class="nav-links can-hide"><div class="nav-item"><a href="/guide/vue/" class="nav-link">
  vue
</a></div><div class="nav-item"><a href="/guide/weixin/" class="nav-link">
  小程序
</a></div><div class="nav-item"><a href="/guide/algorithm/" class="nav-link">
  算法
</a></div><div class="nav-item"><a href="/guide/interview/" class="nav-link">
  面试
</a></div><div class="nav-item"><a href="/guide/webpack/" class="nav-link router-link-active">
  webpack
</a></div> <!----></nav></div></header> <div class="sidebar-mask"></div> <aside class="sidebar"><nav class="nav-links"><div class="nav-item"><a href="/guide/vue/" class="nav-link">
  vue
</a></div><div class="nav-item"><a href="/guide/weixin/" class="nav-link">
  小程序
</a></div><div class="nav-item"><a href="/guide/algorithm/" class="nav-link">
  算法
</a></div><div class="nav-item"><a href="/guide/interview/" class="nav-link">
  面试
</a></div><div class="nav-item"><a href="/guide/webpack/" class="nav-link router-link-active">
  webpack
</a></div> <!----></nav>  <ul class="sidebar-links"><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading open"><span>构建工具</span> <span class="arrow down"></span></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/guide/webpack/Webpack.html" aria-current="page" class="active sidebar-link">webpack</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/guide/webpack/Webpack.html#webpack是什么" class="sidebar-link">Webpack是什么</a></li><li class="sidebar-sub-header"><a href="/guide/webpack/Webpack.html#package-json中启动" class="sidebar-link">package.json中启动</a></li><li class="sidebar-sub-header"><a href="/guide/webpack/Webpack.html#loader" class="sidebar-link">loader</a></li><li class="sidebar-sub-header"><a href="/guide/webpack/Webpack.html#es6转es5" class="sidebar-link">ES6转ES5</a></li><li class="sidebar-sub-header"><a href="/guide/webpack/Webpack.html#在webpack配置vue" class="sidebar-link">在webpack配置vue</a></li><li class="sidebar-sub-header"><a href="/guide/webpack/Webpack.html#browserslist-的工作原理" class="sidebar-link">browserslist 的工作原理</a></li><li class="sidebar-sub-header"><a href="/guide/webpack/Webpack.html#postcss-工具的使用" class="sidebar-link">postcss 工具的使用</a></li><li class="sidebar-sub-header"><a href="/guide/webpack/Webpack.html#esmodule属性" class="sidebar-link">esModule属性：</a></li><li class="sidebar-sub-header"><a href="/guide/webpack/Webpack.html#el和template的区别" class="sidebar-link">el和template的区别</a></li><li class="sidebar-sub-header"><a href="/guide/webpack/Webpack.html#vue文件封装处理" class="sidebar-link">.vue文件封装处理</a></li><li class="sidebar-sub-header"><a href="/guide/webpack/Webpack.html#plugin插件" class="sidebar-link">plugin插件</a></li><li class="sidebar-sub-header"><a href="/guide/webpack/Webpack.html#bannerplugin插件-自带" class="sidebar-link">BannerPlugin插件（自带）</a></li><li class="sidebar-sub-header"><a href="/guide/webpack/Webpack.html#打包html-htmlwebpackplugin插件" class="sidebar-link">打包html - HtmlWebpackPlugin插件</a></li><li class="sidebar-sub-header"><a href="/guide/webpack/Webpack.html#压缩js插件-uglifyjs-webpack-plugin" class="sidebar-link">压缩JS插件 uglifyjs-webpack-plugin</a></li><li class="sidebar-sub-header"><a href="/guide/webpack/Webpack.html#清除多余文件插件-clean-webpack-plugin" class="sidebar-link">清除多余文件插件 clean-webpack-plugin</a></li><li class="sidebar-sub-header"><a href="/guide/webpack/Webpack.html#拷贝资源插件copy-webpack-plugin" class="sidebar-link">拷贝资源插件copy-webpack-plugin</a></li><li class="sidebar-sub-header"><a href="/guide/webpack/Webpack.html#babel的使用" class="sidebar-link">babel的使用</a></li><li class="sidebar-sub-header"><a href="/guide/webpack/Webpack.html#ploy-fill-的使用" class="sidebar-link">Ploy-fill 的使用</a></li><li class="sidebar-sub-header"><a href="/guide/webpack/Webpack.html#搭建本地服务器" class="sidebar-link">搭建本地服务器</a></li><li class="sidebar-sub-header"><a href="/guide/webpack/Webpack.html#开发模式" class="sidebar-link">开发模式</a></li></ul></li></ul></section></li></ul> </aside> <main class="page"> <div class="theme-default-content content__default"><h1 id="webpack学习"><a href="#webpack学习" class="header-anchor">#</a> webpack学习</h1> <h2 id="webpack是什么"><a href="#webpack是什么" class="header-anchor">#</a> Webpack是什么</h2> <ul><li>webpack是一个javascript应用的静态模块打包工具</li></ul> <ul><li><p>如果工程模块依赖非常简单，甚至没有用到模块化，可以用grunt/gulp</p></li> <li><p>webpack的运行依赖node环境</p></li> <li><p>node环境执行代码又依赖各种包</p></li> <li><p>我们又需要npm工具管理包</p></li> <li><p>为什么还要局部安装？</p> <ul><li>在终端直接执行webpack命令，使用的全局安装的webpack</li> <li>当在package.json中定义了scripts时，其中包含了webpack命令，那么使用的是局部webpack</li></ul></li> <li><p>局部安装webpack</p> <ul><li>--save-dev是开发式依赖，后续不需要的</li></ul> <div class="language-javascript extra-class"><pre class="language-javascript"><code>cd 对应目录
npm install webpack <span class="token operator">--</span>save<span class="token operator">-</span>dev
</code></pre></div></li></ul> <h2 id="package-json中启动"><a href="#package-json中启动" class="header-anchor">#</a> package.json中启动</h2> <ul><li><p>可以在package.json中自定义自己的执行脚本</p></li> <li><p>package.json中的script执行脚本在执行时，会按照一定的顺序寻找命令对应的位置</p> <ul><li><p>首先会寻找本地的node_modules/bin路径中对应的命令</p></li> <li><p>如果没有找到，回去全局的环境变量中找。</p></li> <li><p>执行build指令</p> <div class="language-javascript extra-class"><pre class="language-javascript"><code>npm run build
</code></pre></div></li></ul></li></ul> <h2 id="loader"><a href="#loader" class="header-anchor">#</a> loader</h2> <ol><li>通过npm安装loader(注意版本)</li> <li>在webpack.config.js中的modules关键字下进行配置</li></ol> <h3 id="css文件处理"><a href="#css文件处理" class="header-anchor">#</a> css文件处理</h3> <ul><li><p>安装css-loader，再安装style-loader,配置module时style放在css前面，</p> <p>因为使用多个loader时从右向左读。</p></li> <li><p>css-loader 只能处理css语法，样式不能生效</p></li> <li><p>只有css loader 样式无法生效，还需要style-loader</p></li> <li><p>style-loader 生成一个style标签，并把css代码放进去</p></li></ul> <h3 id="less文件处理"><a href="#less文件处理" class="header-anchor">#</a> less文件处理</h3> <ul><li><p>less-loader 可以帮我们将less转化成css文件，就不需要手动转换</p></li> <li><p>webpack可以帮助处理less、scss、stylus</p> <ol><li>创建less文件放在css文件夹中</li> <li>复制文档</li></ol></li></ul> <h3 id="图片文件处理"><a href="#图片文件处理" class="header-anchor">#</a> 图片文件处理</h3> <ul><li><p>file-loader处理图片</p> <ul><li>将图片资源拷贝到打包后的目录，分开请求</li> <li>请求次数多，但是加载快</li></ul></li> <li><p>webpack帮助我们自动生成一个特别长的名字</p> <ul><li>这是一个hash值，防止名字重复</li> <li>可以再options中添加选项</li> <li>img:文件要打包到的文件夹</li> <li>name:获取图片原来的名字，放再该位置</li> <li>hash:8:为了防止图片名称冲突，使用hash值，但是只保留8位</li> <li>ext:使用图片原来的扩展名</li></ul></li> <li><p>url-loaer处理图片</p> <ul><li>url-loader将二进制文件资源以base64 uri 的形式加载到代码中，打包后不会有图片文件</li> <li>优点是能减少请求次数</li> <li>缺点是文件大的时候加载会变慢</li> <li>url-loader 内部也能调用file-loader</li> <li>属性limit， 比它大的文件用file-loader,比他小的用base64</li></ul></li> <li><p>asset处理图片</p> <ul><li><p>asset模块是webpack内置的,webpack5特有</p></li> <li><p>配置选项</p> <ul><li><p>resource -&gt; file-loader功能一样</p></li> <li><p>inline -&gt; url-loader功能一样</p></li> <li><p>source -&gt; 代替raw-loader</p></li> <li><p>asset</p></li> <li><div class="language-javascript extra-class"><pre class="language-javascript"><code><span class="token comment">//resource配置</span>
<span class="token literal-property property">test</span><span class="token operator">:</span><span class="token regex"><span class="token regex-delimiter">/</span><span class="token regex-source language-regex">\.(png|svg|gif|jpe?g)$</span><span class="token regex-delimiter">/</span></span><span class="token punctuation">,</span>
<span class="token literal-property property">type</span><span class="token operator">:</span><span class="token string">'asset/resource'</span><span class="token punctuation">,</span>
<span class="token literal-property property">generator</span><span class="token operator">:</span><span class="token punctuation">{</span>
	<span class="token literal-property property">filename</span><span class="token operator">:</span><span class="token string">'img/[name].[hash:6][ext]'</span>
<span class="token punctuation">}</span>

<span class="token comment">//直接使用asset配置</span>
            <span class="token punctuation">{</span>
                <span class="token literal-property property">test</span><span class="token operator">:</span> <span class="token regex"><span class="token regex-delimiter">/</span><span class="token regex-source language-regex">\.(png|svg|gif|jpe?g)$</span><span class="token regex-delimiter">/</span></span><span class="token punctuation">,</span>
                <span class="token literal-property property">type</span><span class="token operator">:</span> <span class="token string">'asset'</span><span class="token punctuation">,</span>
                <span class="token literal-property property">generator</span><span class="token operator">:</span> <span class="token punctuation">{</span>
                    <span class="token literal-property property">filename</span><span class="token operator">:</span> <span class="token string">'img/[name].[hash:6][ext]'</span>
                <span class="token punctuation">}</span><span class="token punctuation">,</span>
                <span class="token literal-property property">parser</span><span class="token operator">:</span><span class="token punctuation">{</span>
                    <span class="token literal-property property">dataUrlCondition</span><span class="token operator">:</span><span class="token punctuation">{</span>
                        <span class="token literal-property property">maxSize</span><span class="token operator">:</span> <span class="token number">23</span> <span class="token operator">*</span> <span class="token number">1024</span> <span class="token operator">*</span><span class="token number">1024</span>
                    <span class="token punctuation">}</span>
                <span class="token punctuation">}</span>
            <span class="token punctuation">}</span><span class="token punctuation">,</span>
</code></pre></div></li></ul></li></ul></li></ul> <h2 id="es6转es5"><a href="#es6转es5" class="header-anchor">#</a> ES6转ES5</h2> <ul><li>使用babel对应的loader就行了</li></ul> <h2 id="在webpack配置vue"><a href="#在webpack配置vue" class="header-anchor">#</a> 在webpack配置vue</h2> <ul><li><p>先npm安装vue</p> <div class="language-javascript extra-class"><pre class="language-javascript"><code>npm install vue <span class="token operator">--</span>save
</code></pre></div><ul><li><p>vue有两个版本:</p> <ul><li><p>runtime-only --&gt; 代码中不允许有template</p></li> <li><p>runtime-compiler --&gt; 代码中可以有template，因为有compiler可以用于编译template</p></li> <li><div class="language-javascript extra-class"><pre class="language-javascript"><code> <span class="token comment">//解决方案</span>
 <span class="token literal-property property">resolve</span><span class="token operator">:</span> <span class="token punctuation">{</span>
    <span class="token literal-property property">alias</span><span class="token operator">:</span> <span class="token punctuation">{</span>
      <span class="token string-property property">'vue$'</span><span class="token operator">:</span> <span class="token string">'vue/dist/vue.esm.js'</span>
    <span class="token punctuation">}</span>
  <span class="token punctuation">}</span>
</code></pre></div></li></ul></li></ul></li></ul> <h2 id="browserslist-的工作原理"><a href="#browserslist-的工作原理" class="header-anchor">#</a> browserslist 的工作原理</h2> <ul><li><p>我们的代码需要兼容不同的浏览器，这时可以用postcss/babel邓工具帮我们转换，但是要知道要兼容哪些浏览器，还需要browserslist帮助我们查询</p></li> <li><p>webpack 中有一个browerserlist 文件夹帮我们配置好了，它里面可以类似发请求给can i use 网站查询符合条件的浏览器数据</p></li> <li><p>browserslistrc 文件的内容</p> <div class="language-javascript extra-class"><pre class="language-javascript"><code><span class="token operator">&gt;</span> <span class="token number">1</span><span class="token operator">%</span> <span class="token comment">//市场占额大于1%</span>
last <span class="token number">2</span> version <span class="token comment">//最后两个版本</span>

</code></pre></div></li></ul> <h2 id="postcss-工具的使用"><a href="#postcss-工具的使用" class="header-anchor">#</a> postcss 工具的使用</h2> <ul><li><p>为了兼容css</p></li> <li><p>它自己啥也干不了。需要安装另外的工具</p></li> <li><p>postcss 是一个通过 js 转换样式的工具</p></li> <li><p>postcss-cli :可以让我们在终端命令行使用postcss 命令的工具</p></li> <li><p><strong>autoprefixer</strong> 帮助添加浏览器前缀的插件，可由postcss调用</p> <div class="language-javascript extra-class"><pre class="language-javascript"><code>npx postcss <span class="token operator">--</span>use autoprefixer <span class="token operator">-</span>o ret<span class="token punctuation">.</span>css 
<span class="token punctuation">.</span><span class="token operator">/</span>src<span class="token operator">/</span>css<span class="token operator">/</span>test<span class="token punctuation">.</span>css
<span class="token comment">//在终端通过postcss 调用autoprefixer</span>
</code></pre></div></li> <li><p><strong>postcss-preset-env</strong></p> <ul><li>预设 -- 插件集合 --  里面集合了很多css相关的插件</li> <li>而且！！autoprefixer已经包含到了里面，不再需要它了！！</li></ul></li> <li><p><strong>importloaders</strong> 属性</p> <ul><li>当用@import 导入css时，导入的css 会不能被postcss处理</li> <li>1.postcss-loader 先执行，看看文件是否需要兼容处理，后交给css-loader</li> <li>2.css-loader 执行时@import 才能导入css文件。这时postcss-loader已经执行完了，不能再回头处理</li></ul> <div class="language-javascript extra-class"><pre class="language-javascript"><code><span class="token punctuation">{</span>
    <span class="token literal-property property">loader</span><span class="token operator">:</span><span class="token string">'css-loader'</span><span class="token punctuation">,</span>
    <span class="token literal-property property">options</span><span class="token operator">:</span><span class="token punctuation">{</span>
       		<span class="token literal-property property">importLoaders</span><span class="token operator">:</span><span class="token number">1</span>
       		<span class="token comment">//代表css-loader 处理过的文件能再被前面的1个loader处理</span>
       		<span class="token punctuation">}</span>
 <span class="token punctuation">}</span><span class="token punctuation">,</span>
</code></pre></div></li> <li><h2 id="esmodule属性"><a href="#esmodule属性" class="header-anchor">#</a> esModule属性：</h2> <ul><li>require引入图片时生成的是一个对象{default}里面的default才是真正引入的东西，</li> <li>在配置中esModule设为false可不用 .default 获取真正的引入对象</li></ul> <div class="language-javascript extra-class"><pre class="language-javascript"><code><span class="token punctuation">{</span>
    <span class="token literal-property property">loader</span><span class="token operator">:</span><span class="token string">'css-loader'</span><span class="token punctuation">,</span>
    <span class="token literal-property property">options</span><span class="token operator">:</span><span class="token punctuation">{</span>
       		<span class="token literal-property property">importLoaders</span><span class="token operator">:</span><span class="token number">1</span><span class="token punctuation">,</span>
       		<span class="token comment">//代表css-loader 处理过的文件能再被前面的1个loader处理</span>
       		<span class="token literal-property property">esModule</span><span class="token operator">:</span><span class="token boolean">false</span>
       		<span class="token punctuation">}</span>
 <span class="token punctuation">}</span><span class="token punctuation">,</span>
</code></pre></div></li></ul> <h2 id="el和template的区别"><a href="#el和template的区别" class="header-anchor">#</a> el和template的区别</h2> <ul><li><p>vue的一些问题</p> <ul><li><p>我们想将data数据显示在界面中，就要修改index.html</p></li> <li><p>但html模板在开发中不希望频繁手动修改</p></li></ul></li> <li><p>定义template属性</p> <ul><li><p>我们可以保留index.html中的有app id 的div</p></li> <li><p>然后定义一个template</p> <div class="language-javascript extra-class"><pre class="language-javascript"><code><span class="token keyword">new</span> <span class="token class-name">Vue</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
  <span class="token literal-property property">el</span><span class="token operator">:</span> <span class="token string">'#app'</span><span class="token punctuation">,</span>
  <span class="token literal-property property">template</span><span class="token operator">:</span> <span class="token template-string"><span class="token template-punctuation string">`</span><span class="token string">
  &lt;div&gt;
    &lt;h2&gt;{{message}}&lt;/h2&gt;  
    &lt;button&gt;@click=&quot;btnClick()&quot;&lt;/button&gt;
    &lt;h2&gt;{{name}}&lt;/h2&gt;
  &lt;/div&gt;
  </span><span class="token template-punctuation string">`</span></span>
  <span class="token punctuation">,</span>
  <span class="token literal-property property">data</span><span class="token operator">:</span> <span class="token punctuation">{</span>
    <span class="token literal-property property">message</span><span class="token operator">:</span> <span class="token string">'jiahui'</span><span class="token punctuation">,</span>
    <span class="token literal-property property">name</span><span class="token operator">:</span> <span class="token string">&quot;zhou&quot;</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
</code></pre></div></li></ul></li></ul> <h2 id="vue文件封装处理"><a href="#vue文件封装处理" class="header-anchor">#</a> .vue文件封装处理</h2> <ul><li><p>安装vue-loader 和 vue-template-compiler</p> <div class="language-javascript extra-class"><pre class="language-javascript"><code>npm install vue<span class="token operator">-</span>loader@<span class="token number">15.4</span><span class="token number">.2</span> vue<span class="token operator">-</span>template<span class="token operator">-</span>compiler@<span class="token number">2.5</span><span class="token number">.21</span>
</code></pre></div></li></ul> <h2 id="plugin插件"><a href="#plugin插件" class="header-anchor">#</a> plugin插件</h2> <ul><li>plugin 是什么
<ul><li>plugin是插件，是对webpack进行的扩展</li> <li>loader用于转换某些类型的模块，它是一个转换器</li> <li>plugin是插件，它是对webpack本身的扩展，是扩展器</li> <li>插件的本质上是一个类，使用时需用new ***()</li></ul></li> <li>plugin 使用步骤
<ul><li>通过npm 安装plugin</li> <li>在webpack.config.js的 plugins中配置插件</li></ul></li></ul> <h2 id="bannerplugin插件-自带"><a href="#bannerplugin插件-自带" class="header-anchor">#</a> BannerPlugin插件（自带）</h2> <ul><li><p>为打包的文件添加版权声明</p> <div class="language-javascript extra-class"><pre class="language-javascript"><code><span class="token keyword">const</span> webpack <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">'webpack'</span><span class="token punctuation">)</span>
module<span class="token punctuation">.</span>exports <span class="token operator">=</span> <span class="token punctuation">{</span>
<span class="token operator">...</span><span class="token operator">...</span><span class="token punctuation">.</span>
  <span class="token literal-property property">plugins</span><span class="token operator">:</span> <span class="token punctuation">[</span>
	<span class="token keyword">new</span> <span class="token class-name">webpack<span class="token punctuation">.</span>BannerPlugin</span><span class="token punctuation">(</span><span class="token string">'最终版权归jiahui所有'</span><span class="token punctuation">)</span>
  <span class="token punctuation">]</span>
<span class="token punctuation">}</span>
</code></pre></div></li> <li><p>再重新打包文件</p></li></ul> <h2 id="打包html-htmlwebpackplugin插件"><a href="#打包html-htmlwebpackplugin插件" class="header-anchor">#</a> 打包html - HtmlWebpackPlugin插件</h2> <ul><li><p>这个插件可以自动生成一个index.html文件</p> <p>然后将打包的js文件，自动通过script标签插入到body中</p></li> <li><p>安装插件</p> <div class="language-javascript extra-class"><pre class="language-javascript"><code>npm install html<span class="token operator">-</span>webpack<span class="token operator">-</span>plugin <span class="token operator">--</span>save<span class="token operator">-</span>dev
</code></pre></div></li> <li><p>要删除之前output中的publicPath属性</p></li></ul> <h2 id="压缩js插件-uglifyjs-webpack-plugin"><a href="#压缩js插件-uglifyjs-webpack-plugin" class="header-anchor">#</a> 压缩JS插件 uglifyjs-webpack-plugin</h2> <ul><li><p>对js文件进行压缩</p> <div class="language-javascript extra-class"><pre class="language-javascript"><code>npm install uglifyjs<span class="token operator">-</span>webpack<span class="token operator">-</span>plugin@<span class="token number">1.1</span><span class="token number">.1</span> <span class="token operator">--</span>save<span class="token operator">-</span>dev
</code></pre></div></li></ul> <h2 id="清除多余文件插件-clean-webpack-plugin"><a href="#清除多余文件插件-clean-webpack-plugin" class="header-anchor">#</a> 清除多余文件插件 clean-webpack-plugin</h2> <h2 id="拷贝资源插件copy-webpack-plugin"><a href="#拷贝资源插件copy-webpack-plugin" class="header-anchor">#</a> 拷贝资源插件copy-webpack-plugin</h2> <ul><li>将项目文件的文件拷贝到打包后的文件里</li></ul> <h2 id="babel的使用"><a href="#babel的使用" class="header-anchor">#</a> babel的使用</h2> <ul><li><p>是一个工具，可以处理JS的兼容</p></li> <li><p>要处理JS需要安装工具包</p></li></ul> <h3 id="babel-plugin-transform-arrow-functions"><a href="#babel-plugin-transform-arrow-functions" class="header-anchor">#</a> @babel-plugin-transform-arrow-functions</h3> <ul><li>将箭头函数转换成普通函数</li></ul> <h3 id="babel-plugin-transform-block-scoping"><a href="#babel-plugin-transform-block-scoping" class="header-anchor">#</a> @babel-plugin-transform-block-scoping</h3> <ul><li>处理块级作用域</li></ul> <h3 id="babel-preset-env-集合工具包"><a href="#babel-preset-env-集合工具包" class="header-anchor">#</a> @babel/preset-env 集合工具包</h3> <h3 id="分离配置文件"><a href="#分离配置文件" class="header-anchor">#</a> 分离配置文件</h3> <ul><li><p>将babel的额外配置分离出到一个文件夹中</p></li> <li><p>babaelrc.json(老版)</p></li> <li><p>babel.config.js</p></li></ul> <h2 id="ploy-fill-的使用"><a href="#ploy-fill-的使用" class="header-anchor">#</a> Ploy-fill 的使用</h2> <ul><li>处理babel处理不了的兼容问题</li> <li>分成了两个模块
<ul><li>core-js</li> <li>regenerator-runtime</li></ul></li></ul> <h2 id="搭建本地服务器"><a href="#搭建本地服务器" class="header-anchor">#</a> 搭建本地服务器</h2> <ul><li><p>webpack提供了一个可选的本地开发服务器，这个本地服务器基于node.js搭建，内部使用express框架，可以实现我们想要的让浏览器自动刷新显示我们修改后的结果。</p></li> <li><p>在webpack需要先安装它</p> <div class="language-javascript extra-class"><pre class="language-javascript"><code>npm install <span class="token operator">--</span>save<span class="token operator">-</span>dev webpack<span class="token operator">-</span>dev<span class="token operator">-</span>server@<span class="token number">2.9</span><span class="token number">.1</span>
</code></pre></div></li> <li><p>devserver也是作为webpack中的一个选项，选项本身可以设置以下属性：</p> <ul><li>contentBase:为哪一个文件夹提供本地服务，默认是根文件夹，我们这里填写./dist</li> <li>port:端口号</li> <li>inline:页面实时判断</li> <li>historyApiFallback:在SPA页面中，依赖HTML5的history模式</li></ul></li> <li><p>webpack.config.js</p> <div class="language-javascript extra-class"><pre class="language-javascript"><code><span class="token literal-property property">devServer</span><span class="token operator">:</span><span class="token punctuation">{</span>
	<span class="token literal-property property">contentBase</span><span class="token operator">:</span> <span class="token string">'./dist'</span><span class="token punctuation">,</span>
	<span class="token literal-property property">inline</span><span class="token operator">:</span> <span class="token boolean">true</span>
<span class="token punctuation">}</span><span class="token punctuation">,</span>
</code></pre></div></li> <li><p>可以再配置一个script</p> <ul><li><p>--open表示直接打开浏览器</p></li> <li><div class="language-javascript extra-class"><pre class="language-javascript"><code><span class="token string-property property">&quot;dev&quot;</span><span class="token operator">:</span><span class="token string">&quot;webpack-dev-server --open&quot;</span>
</code></pre></div></li></ul></li></ul> <h2 id="开发模式"><a href="#开发模式" class="header-anchor">#</a> 开发模式</h2> <ul><li>--watch 搭配 --live server</li> <li>缺点：
<ul><li>所有源代码都会被编译</li> <li>每次编译成功后都会进行文件读写</li> <li>不能实现局部刷新</li></ul></li></ul></div> <footer class="page-edit"><!----> <!----></footer> <!----> </main></div><div class="global-ui"></div></div>
    <script src="/assets/js/app.613d29e8.js" defer></script><script src="/assets/js/2.a2c47b02.js" defer></script><script src="/assets/js/23.8a5f4946.js" defer></script>
  </body>
</html>
